$(document).ready(function() {
  // Fancy Navigation Scroll
  $(window).scroll(function() {
    var min = $(window).height() - 320;
    var max = $(window).height() - 80;
    var range = max-min;
    var top = $('nav').offset().top;
    var active = false;
    if(top >= min) {
      var transparency = (top-min)/(range);

      // Catch over 100% for legacy
      if(transparency > 1) {
        transparency = 1;
      }
      // Apply CSS
      $('nav').css('opacity', transparency);
      // One less jQuery function
      if(!active) {
        $('nav').removeClass('nav-hide');
        active = true;
      }
    } else {
      $('nav').addClass('nav-hide');
      active = false;
    }
  });
  // The active logic is so fewer jQuery calls are made
});